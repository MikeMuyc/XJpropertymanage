(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8834d28c"],{"01f3":function(e,t,i){},"027b":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mainbox",attrs:{id:"householdInformation"}},[a("transition",{attrs:{name:"leftSlide"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.tableFlag,expression:"!tableFlag"}],staticStyle:{height:"100%"}},[a("div",{ref:"thTitle",staticClass:"thTitle"},[a("i",{staticClass:"line"}),e._v("一户一档\n            ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:0!==e.buildingTree.length,expression:"buildingTree.length!==0"}],ref:"viewbox",staticClass:"viewbox"},[a("div",{staticClass:"leftTree"},[a("Input",{attrs:{type:"search",placeholder:"搜索"}}),a("vue-perfect-scrollbar",{staticStyle:{height:"calc(100% - 48px)","margin-top":"10px","padding-right":"15px"}},[a("Tree",{ref:"tree",staticClass:"buildingTree",attrs:{data:e.buildingTree,render:e.renderContent}})],1)],1),a("div",{staticClass:"borderRight"}),a("div",{ref:"rightMain",staticClass:"rightMain"},[a("div",{ref:"middleline",staticClass:"middleline"},[a("div",{staticClass:"iconbox"},[a("i",{staticClass:"iconfont iconxiaoqu"})]),a("div",{staticClass:"infoShow"},[a("div",{staticClass:"leftInfo"},[e.roomId?a("i",{staticStyle:{"font-size":"18px","font-weight":"bolder"}},[e._v("\n                                    "+e._s(e.buildingTree.find((function(t){return t.id===e.rdId})).title)+" / "+e._s(e.buildingName)+"\n                                ")]):e._e(),e.communtityId?a("i",{staticStyle:{"font-size":"18px","font-weight":"bolder"}},[e._v("\n                                    "+e._s(e.buildingTree.find((function(t){return t.id===e.rdId})).title)+"\n                                ")]):e._e(),a("div",{staticClass:"parkInfo"},[a("div",{staticClass:"detial"},[a("i",{staticClass:"iconfont iconfangzi",staticStyle:{"font-size":"13px"}}),a("i",{staticClass:"item"},[e._v("登记户数：")]),a("em",[e._v(e._s(e.proprietorInfo.length)+"户")])])])])])]),a("div",{ref:"searchline",staticClass:"searchline"},[a("div",{staticClass:"froat"},[a("mixSelect",{staticClass:"margin",staticStyle:{width:"140px"},attrs:{selectList:e.native,labelName:"name",valueName:"code",placeholder:"籍贯"},model:{value:e.nprCode,callback:function(t){e.nprCode=t},expression:"nprCode"}}),a("div",{staticClass:"margin item",staticStyle:{flex:"none"}},[e._v("\n                                入伙时间\n                                "),a("DatePicker",{ref:"dateForm",staticStyle:{width:"200px","margin-left":"8px"},attrs:{"split-panels":"",type:"daterange",format:"yyyy-MM-dd",placeholder:" 开始时间   ~   结束时间"},on:{"on-change":e.handleTime}})],1),a("div",{staticClass:"margin",staticStyle:{display:"flex"}},[a("Input",{staticStyle:{width:"200px","margin-right":"15px"},attrs:{placeholder:"请输入关键字"},on:{enter:function(t){return e.getPage()}},model:{value:e.keyWords,callback:function(t){e.keyWords=t},expression:"keyWords"}}),a("div",{staticClass:"pmbtn primary",staticStyle:{"margin-right":"15px"},on:{click:function(t){return e.getPage()}}},[a("i",{staticClass:"iconfont iconsousuo"}),e._v("搜索\n                                ")]),a("div",{staticClass:"pmbtn",on:{click:e.resentInfo}},[a("i",{staticClass:"iconfont iconzhongzhi"}),e._v("重置\n                                ")])],1)],1),a("div",{staticClass:"marginItem"},[a("div",{staticClass:"pmbtn primary",staticStyle:{"margin-right":"15px"},on:{click:e.openRegistDialog}},[a("i",{staticClass:"iconfont icontianjia"}),e._v("\n                                入伙登记\n                            ")]),a("div",{staticClass:"item"},[a("div",{staticClass:"pmbtn",staticStyle:{"margin-right":"15px"}},[a("i",{staticClass:"iconfont icondaoru"}),e._v("\n                                    导入\n                                ")]),a("div",{staticClass:"pmbtn",on:{click:e.exportProprietorInfo}},[a("i",{staticClass:"iconfont icondaochu"}),e._v("\n                                    导出\n                                ")])])])]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"myWisdomTable",attrs:{data:e.proprietorInfoTable,stripe:"",height:e.formHeight,"header-cell-style":{background:"#f4f6f9"}}},[a("template",{slot:"empty"},[a("img",{attrs:{src:i("fd46")}}),a("br"),e._v("\n                            暂无内容\n                        ")]),a("el-table-column",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"index",width:"70",label:"序号"},scopedSlots:e._u([{key:"default",fn:function(t){t.row;var i=t.$index;return[e._v("\n                                "+e._s(e.pages.pageSize*(e.pages.pageNum-1)+i+1)+"\n                            ")]}}])}),e.communtityId?a("el-table-column",{attrs:{prop:"buildingName",label:"楼号","min-width":"120px","show-overflow-tooltip":""}}):e._e(),a("el-table-column",{attrs:{prop:"roomName",label:"房间代码","min-width":"120px","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"personName",label:"业主名称","min-width":"100px","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"sexCode",label:"性别","min-width":"60px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;t.$index;return[""!==i.sexCode?a("div",[e._v(e._s(e.sex.find((function(e){return e.code===i.sexCode})).name))]):a("div",{staticStyle:{color:"#a0a5a9"}},[e._v("暂无")])]}}])}),a("el-table-column",{attrs:{prop:"birthday",label:"出生日期","min-width":"100px","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"nationCode",label:"民族","min-width":"50px","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;t.$index;return[""!==i.nationCode?a("div",[e._v(e._s(e.nation.find((function(e){return e.code===i.nationCode})).name)+"\n                                ")]):a("div",{staticStyle:{color:"#a0a5a9"}},[e._v("暂无")])]}}])}),a("el-table-column",{attrs:{prop:"nativePlaceRegionCode",label:"籍贯","min-width":"80px","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;t.$index;return[""!==i.nativePlaceRegionCode?a("div",[e._v(e._s(e.native.find((function(e){return e.code===i.nativePlaceRegionCode})).name)+"\n                                ")]):a("div",{staticStyle:{color:"#a0a5a9"}},[e._v("暂无")])]}}])}),a("el-table-column",{attrs:{prop:"time",label:"入伙时间",width:"170px"}}),a("el-table-column",{attrs:{label:"操作",width:"170px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;t.$index;return[a("div",{staticClass:"tableEdit"},[a("div",{staticClass:"item",on:{click:function(t){return e.detailHouse(i)}}},[e._v("详情")]),a("div",{staticClass:"item",on:{click:function(t){return e.householdChange(i)}}},[e._v("户主变更")]),a("div",{staticClass:"item delete",on:{click:function(t){return e.deleteInfo(i.id)}}},[e._v("删除")])])]}}])})],2),a("Page",{ref:"pagebox",attrs:{"show-elevator":"","show-total":"","page-size":e.pages.pageSize,current:e.pages.pageNum,total:e.pages.totalElements},on:{"on-change":e.getPage}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:0===e.buildingTree.length,expression:"buildingTree.length===0"}],staticClass:"empty"},[a("img",{attrs:{src:i("555b"),alt:""}}),a("p",[e._v("暂无数据，请先至"),a("i",{on:{click:e.goToHouse}},[e._v("房产信息")]),e._v("处添加小区")])])])]),a("transition",{attrs:{name:"rightSlide"}},[a("householdDetail",{directives:[{name:"show",rawName:"v-show",value:e.tableFlag,expression:"tableFlag"}],attrs:{personId:e.personId,tableFlag:e.tableFlag,rdId:e.rdId,roomName:e.roomName},on:{close:e.closeTable}})],1),e.registVisible?a("el-dialog",{attrs:{visible:e.registVisible,"custom-class":"emDialog",width:"545px",top:"10vh","close-on-click-modal":!1},on:{"update:visible":function(t){e.registVisible=t},close:e.closeRegistDialog}},[a("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"iconColumn"}),e._v("\n            入伙登记\n        ")]),a("vue-perfect-scrollbar",{directives:[{name:"show",rawName:"v-show",value:0===e.active,expression:"active===0"}],staticClass:"dialogMainbox"},[a("div",{staticStyle:{"font-size":"16px","font-weight":"bolder",margin:"0 0 20px 15px"}},[e._v("业主信息")]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("业主名称")]),a("div",{staticClass:"info"},[a("Input",{attrs:{placeholder:"必填",necessary:""},model:{value:e.addProprietor.personInfo.name,callback:function(t){e.$set(e.addProprietor.personInfo,"name",t)},expression:"addProprietor.personInfo.name"}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("联系方式")]),a("div",{staticClass:"info"},[a("Input",{attrs:{placeholder:"必填",necessary:""},model:{value:e.addProprietor.personInfo.tel,callback:function(t){e.$set(e.addProprietor.personInfo,"tel",t)},expression:"addProprietor.personInfo.tel"}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("身份证号")]),a("div",{staticClass:"info"},[a("Input",{attrs:{placeholder:"请输入"},model:{value:e.addProprietor.personInfo.cardNumber,callback:function(t){e.$set(e.addProprietor.personInfo,"cardNumber",t)},expression:"addProprietor.personInfo.cardNumber"}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("出生日期")]),a("div",{staticClass:"info"},[a("DatePicker",{ref:"startTimeRef",staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"请选择"},on:{"on-change":e.handleBirthdayDialog},model:{value:e.addProprietor.personInfo.birthday,callback:function(t){e.$set(e.addProprietor.personInfo,"birthday",t)},expression:"addProprietor.personInfo.birthday"}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("性别")]),a("div",{staticClass:"info"},[a("mixSelect",{staticStyle:{"max-width":"100%"},attrs:{selectList:e.sex,labelName:"name",valueName:"code",childrenName:"children",placeholder:"请选择"},model:{value:e.addProprietor.personInfo.sexCode,callback:function(t){e.$set(e.addProprietor.personInfo,"sexCode",t)},expression:"addProprietor.personInfo.sexCode"}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("民族")]),a("div",{staticClass:"info"},[a("mixSelect",{staticStyle:{"max-width":"100%"},attrs:{selectList:e.nation,labelName:"name",valueName:"code",childrenName:"children",placeholder:"请选择"},model:{value:e.addProprietor.personInfo.nationCode,callback:function(t){e.$set(e.addProprietor.personInfo,"nationCode",t)},expression:"addProprietor.personInfo.nationCode"}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("籍贯")]),a("div",{staticClass:"info"},[a("mixSelect",{staticStyle:{"max-width":"100%"},attrs:{selectList:e.native,labelName:"name",valueName:"code",placeholder:"请选择"},model:{value:e.addProprietor.personInfo.nativePlaceRegionCode,callback:function(t){e.$set(e.addProprietor.personInfo,"nativePlaceRegionCode",t)},expression:"addProprietor.personInfo.nativePlaceRegionCode"}})],1)]),e.communtityId?a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("楼栋")]),a("div",{staticClass:"info"},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"必选",filterable:"",clearable:""},on:{change:e.handleSelectChange},model:{value:e.buildingIdSelect,callback:function(t){e.buildingIdSelect=t},expression:"buildingIdSelect"}},e._l(e.buildingList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)]):e._e(),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("房间代码")]),a("div",{staticClass:"info"},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"必填"},on:{focus:e.handleSelectRoom},model:{value:e.addProprietor.proprietorAndRoom.roomId,callback:function(t){e.$set(e.addProprietor.proprietorAndRoom,"roomId",t)},expression:"addProprietor.proprietorAndRoom.roomId"}},e._l(e.roomIdList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("购房合同号")]),a("div",{staticClass:"info"},[a("Input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入"},model:{value:e.addProprietor.proprietorAndRoom.contractCode,callback:function(t){e.$set(e.addProprietor.proprietorAndRoom,"contractCode",t)},expression:"addProprietor.proprietorAndRoom.contractCode"}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("房产证号")]),a("div",{staticClass:"info"},[a("Input",{staticStyle:{width:"100%"},attrs:{placeholder:"选填"},model:{value:e.addProprietor.proprietorAndRoom.pocCode,callback:function(t){e.$set(e.addProprietor.proprietorAndRoom,"pocCode",t)},expression:"addProprietor.proprietorAndRoom.pocCode"}})],1)]),a("div",{staticClass:"aline",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"label"},[e._v("管理协议书号")]),a("div",{staticClass:"info"},[a("Input",{staticStyle:{width:"100%"},attrs:{placeholder:"选填"},model:{value:e.addProprietor.proprietorAndRoom.agreementNumber,callback:function(t){e.$set(e.addProprietor.proprietorAndRoom,"agreementNumber",t)},expression:"addProprietor.proprietorAndRoom.agreementNumber"}})],1)])]),a("vue-perfect-scrollbar",{directives:[{name:"show",rawName:"v-show",value:1===e.active,expression:"active===1"}],staticClass:"dialogMainbox"},[a("div",{staticStyle:{"font-size":"16px","font-weight":"bolder",margin:"0 0 20px 15px"}},[e._v("入伙登记")]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("入伙时间")]),a("div",{staticClass:"info"},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"必填",value:e.addProprietor.proprietorAndRoom.time},on:{"on-change":e.handleTimeDialog}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("电表读数")]),a("div",{staticClass:"info"},[a("Input",{attrs:{placeholder:"请输入",type:"number"},model:{value:e.proprietorAndRoomOccupation.electricMeterReading,callback:function(t){e.$set(e.proprietorAndRoomOccupation,"electricMeterReading",t)},expression:"proprietorAndRoomOccupation.electricMeterReading"}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("水表读数")]),a("div",{staticClass:"info"},[a("Input",{attrs:{placeholder:"请输入",type:"number"},model:{value:e.proprietorAndRoomOccupation.waterMeterReading,callback:function(t){e.$set(e.proprietorAndRoomOccupation,"waterMeterReading",t)},expression:"proprietorAndRoomOccupation.waterMeterReading"}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("气表读数")]),a("div",{staticClass:"info"},[a("Input",{attrs:{placeholder:"请输入",type:"number"},model:{value:e.proprietorAndRoomOccupation.gasMeterReading,callback:function(t){e.$set(e.proprietorAndRoomOccupation,"gasMeterReading",t)},expression:"proprietorAndRoomOccupation.gasMeterReading"}})],1)]),a("div",{staticClass:"aline",staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"label"},[e._v("附加信息")]),a("div",{staticClass:"info"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.addProprietor.personInfo.remark,expression:"addProprietor.personInfo.remark"}],staticStyle:{width:"100%"},domProps:{value:e.addProprietor.personInfo.remark},on:{input:function(t){t.target.composing||e.$set(e.addProprietor.personInfo,"remark",t.target.value)}}})])])]),0===e.active?a("div",{attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"pmbtn",staticStyle:{"margin-right":"10px"},on:{click:e.closeRegistDialog}},[e._v("取消")]),a("div",{staticClass:"pmbtn primary",on:{click:e.next}},[e._v("下一步")])]):1===e.active?a("div",{attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"pmbtn",staticStyle:{"margin-right":"10px"},on:{click:e.last}},[e._v("上一步")]),a("div",{staticClass:"pmbtn primary",on:{click:e.addProprietorInfo}},[e._v("完成")])]):e._e()],1):e._e(),e.householdChangeVisible?a("el-dialog",{attrs:{visible:e.householdChangeVisible,"custom-class":"emDialog",width:"820px",top:"16vh","close-on-click-modal":!1},on:{"update:visible":function(t){e.householdChangeVisible=t},close:e.closeHouseholdChange}},[a("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"iconColumn"}),e._v("\n            户主变更\n        ")]),a("div",{staticClass:"MuModalContent"},[a("div",{staticClass:"title"},[a("div",{staticClass:"left"},[a("i",{staticClass:"iconfont iconfangzi"}),a("em",[e._v(e._s(e.roomIdHoldChange))])]),a("div",{staticClass:"right",on:{click:e.getHistory}},[a("i",{staticClass:"iconfont iconxiangqing"}),e._v("\n                    历史记录\n                ")])]),a("div",{staticClass:"main"},[a("div",{staticClass:"left"},[a("div",{staticClass:"content"},[a("div",{staticClass:"aline1"},[a("div",{staticClass:"item btn"},[e._v("新业主名")]),a("div",{staticClass:"item"},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"必填",necessary:""},model:{value:e.holdChangeInfo.personInfo.name,callback:function(t){e.$set(e.holdChangeInfo.personInfo,"name",t)},expression:"holdChangeInfo.personInfo.name"}})],1)]),a("div",{staticClass:"aline1"},[a("div",{staticClass:"item btn"},[e._v("身份证号")]),a("div",{staticClass:"item"},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入"},model:{value:e.holdChangeInfo.personInfo.cardNumber,callback:function(t){e.$set(e.holdChangeInfo.personInfo,"cardNumber",t)},expression:"holdChangeInfo.personInfo.cardNumber"}})],1)])]),a("div",{staticClass:"content"},[a("div",{staticClass:"aline1"},[a("div",{staticClass:"item btn"},[e._v("出生日期")]),a("div",{staticClass:"item"},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"请选择"},on:{"on-change":e.handBrithday},model:{value:e.holdChangeInfo.personInfo.birthday,callback:function(t){e.$set(e.holdChangeInfo.personInfo,"birthday",t)},expression:"holdChangeInfo.personInfo.birthday"}})],1)]),a("div",{staticClass:"aline1"},[a("div",{staticClass:"item btn"},[e._v("性别")]),a("div",{staticClass:"item"},[a("mixSelect",{staticStyle:{width:"200px","min-width":"200px"},attrs:{selectList:e.sex,labelName:"name",valueName:"code",childrenName:"children",placeholder:"请选择"},model:{value:e.holdChangeInfo.personInfo.sexCode,callback:function(t){e.$set(e.holdChangeInfo.personInfo,"sexCode",t)},expression:"holdChangeInfo.personInfo.sexCode"}})],1)])]),a("div",{staticClass:"content"},[a("div",{staticClass:"aline1"},[a("div",{staticClass:"item btn"},[e._v("民族")]),a("div",{staticClass:"item"},[a("mixSelect",{staticStyle:{width:"200px","min-width":"200px"},attrs:{selectList:e.nation,labelName:"name",valueName:"code",childrenName:"children",placeholder:"请选择"},model:{value:e.holdChangeInfo.personInfo.nationCode,callback:function(t){e.$set(e.holdChangeInfo.personInfo,"nationCode",t)},expression:"holdChangeInfo.personInfo.nationCode"}})],1)]),a("div",{staticClass:"aline1"},[a("div",{staticClass:"item btn"},[e._v("籍贯")]),a("div",{staticClass:"item"},[a("mixSelect",{staticStyle:{width:"200px","min-width":"200px"},attrs:{selectList:e.native,labelName:"name",valueName:"code",placeholder:"请选择"},model:{value:e.holdChangeInfo.personInfo.nativePlaceRegionCode,callback:function(t){e.$set(e.holdChangeInfo.personInfo,"nativePlaceRegionCode",t)},expression:"holdChangeInfo.personInfo.nativePlaceRegionCode"}})],1)])]),a("div",{staticClass:"content"},[a("div",{staticClass:"aline1"},[a("div",{staticClass:"item btn"},[e._v("联系方式")]),a("div",{staticClass:"item"},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"必填",necessary:""},model:{value:e.holdChangeInfo.personInfo.tel,callback:function(t){e.$set(e.holdChangeInfo.personInfo,"tel",t)},expression:"holdChangeInfo.personInfo.tel"}})],1)]),a("div",{staticClass:"aline1"},[a("div",{staticClass:"item btn"},[e._v("入伙时间")]),a("div",{staticClass:"item"},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"datetime",placeholder:"请选择",value:e.holdChangeInfo.proprietorAndRoom.time},on:{"on-change":e.handTime}})],1)])]),a("div",{staticClass:"content"},[a("div",{staticClass:"aline1",staticStyle:{width:"100%"}},[a("div",{staticStyle:{"margin-right":"20px","min-width":"56px"}},[e._v("附加信息")]),a("div",{staticStyle:{width:"100%"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.holdChangeInfo.personInfo.remark,expression:"holdChangeInfo.personInfo.remark"}],staticStyle:{width:"100%"},domProps:{value:e.holdChangeInfo.personInfo.remark},on:{input:function(t){t.target.composing||e.$set(e.holdChangeInfo.personInfo,"remark",t.target.value)}}})])])])]),a("div",{staticClass:"right"},[a("label",{staticClass:"upfileInfo",attrs:{for:"addupload"}},[e.imgportadd?a("img",{attrs:{src:e.imgportadd}}):a("i",{staticClass:"iconzhengjianzhao iconfont"}),a("div",{staticClass:"item"},[e._v("上传")])]),a("input",{attrs:{type:"file",accept:"image/*",id:"addupload"},on:{change:e.upAddImg}})])])]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"pmbtn primary",staticStyle:{"margin-right":"10px"},on:{click:e.updateHold}},[e._v("确定")]),a("div",{staticClass:"pmbtn",on:{click:e.closeHouseholdChange}},[e._v("取消")])])]):e._e(),a("el-dialog",{attrs:{visible:e.historyVisible,"custom-class":"emDialog",width:"1000px",top:"16vh","close-on-click-modal":!1},on:{"update:visible":function(t){e.historyVisible=t}}},[a("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"iconColumn"}),e._v("\n            历史记录\n        ")]),a("div",{staticClass:"MuModalContent"},[a("el-table",{attrs:{height:"600px",data:e.historyInfo,stripe:""}},[a("template",{slot:"empty"},[a("img",{attrs:{src:i("fd46")}}),a("br"),e._v("\n                    暂无内容\n                ")]),a("el-table-column",{attrs:{type:"index",width:"70",label:"序号"}}),a("el-table-column",{attrs:{prop:"personName","min-width":"100",label:"业主名称","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"","min-width":"50",label:"性别"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;t.$index;return[""!==i.sexCode?a("div",[e._v(e._s(e.sex.find((function(e){return e.code===i.sexCode})).name))]):a("div",{staticStyle:{color:"#a0a5a9"}},[e._v("暂无")])]}}])}),a("el-table-column",{attrs:{prop:"tel","min-width":"110",label:"联系电话","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"birthday",label:"出生日期","min-width":"100","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"nationCode",label:"民族","min-width":"80","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;t.$index;return[""!==i.nationCode?a("div",[e._v(e._s(e.nation.find((function(e){return e.code===i.nationCode})).name))]):a("div",{staticStyle:{color:"#a0a5a9"}},[e._v("暂无")])]}}])}),a("el-table-column",{attrs:{prop:"nativePlaceRegionCode",label:"籍贯","min-width":"80","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;t.$index;return[""!==i.nativePlaceRegionCode?a("div",[e._v(e._s(e.native.find((function(e){return e.code===i.nativePlaceRegionCode})).name)+"\n                        ")]):a("div",{staticStyle:{color:"#a0a5a9"}},[e._v("暂无")])]}}])}),a("el-table-column",{attrs:{prop:"time","min-width":"170",label:"入伙时间"}})],2)],1)])],1)},o=[],r=(i("6b54"),i("2397"),i("28a5"),i("7f7f"),i("c5f6"),i("7514"),i("96cf"),i("1da1")),n=(i("a481"),i("d4ec")),s=i("bee2"),l=i("262e"),c=i("99de"),d=i("7e84"),p=i("9ab4"),u=i("60a3"),m=i("f825"),h=i("e069"),f=i("c96d"),v=i("fc85"),C=i("abae"),g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"costTable"},[a("div",{staticClass:"costTitle"},[a("div",{staticClass:"back",on:{click:e.backClose}},[a("i",{staticClass:"iconfont iconfanhui"}),e._v("返回\n        ")]),e._v("\n        户主详情\n    ")]),a("vue-perfect-scrollbar",{staticStyle:{height:"calc(100% - 60px)","padding-right":"20px"}},[a("div",{staticClass:"middleline"},[a("div",{staticClass:"front"},[a("div",{staticClass:"iconbox"},[a("i",{staticClass:"iconfont iconfangzi"})]),a("em",[e._v(e._s(e.roomName))])]),a("div",{staticClass:"last"},[a("img",{attrs:{src:e.viewImgSrc}}),a("div",{staticClass:"main"},[a("div",{staticClass:"content1"},[a("div",{staticClass:"item1"},[a("i",{staticClass:"title"},[e._v("业主名称：")]),a("em",{staticClass:"btn"},[e._v(e._s(e.proprietorDetial.proprietor.personInfo.name))])]),a("div",{staticClass:"item2"},[a("i",{staticClass:"title"},[e._v("身份证号：")]),a("em",{staticClass:"btn"},[e._v(e._s(e.proprietorDetial.proprietor.personInfo.cardNumber))])]),a("div",{staticClass:"item3"},[a("i",{staticClass:"title"},[e._v("出生日期：")]),a("em",{staticClass:"btn"},[e._v(e._s(e.proprietorDetial.proprietor.personInfo.birthday))])]),a("div",{staticClass:"item4"},[a("i",{staticClass:"title"},[e._v("性别：")]),a("em",[e._v(e._s(e.proprietorDetial.proprietor.personInfo.sexCode))])])]),a("div",{staticClass:"content2"},[a("div",{staticClass:"item1"},[a("i",{staticClass:"title"},[e._v("民族：")]),a("em",{staticClass:"btn"},[e._v(e._s(e.proprietorDetial.proprietor.personInfo.nationCode))])]),a("div",{staticClass:"item2"},[a("i",{staticClass:"title"},[e._v("籍贯：")]),a("em",{staticClass:"btn"},[e._v(e._s(e.proprietorDetial.proprietor.personInfo.nativePlaceRegionCode))])]),a("div",{staticClass:"item3"},[a("i",{staticClass:"title"},[e._v("联系方式:")]),a("em",{staticClass:"btn"},[e._v(e._s(e.proprietorDetial.proprietor.personInfo.tel))])]),a("div",{staticClass:"item4"},[a("i",{staticClass:"title"},[e._v("附加信息：")]),a("em",{staticStyle:{color:"#7c8185"}},[e._v(e._s(e.proprietorDetial.proprietor.personInfo.remark))])])]),a("div",{staticClass:"content3"},[a("div",{staticClass:"item1"},[a("i",{staticClass:"title"},[e._v("入伙时间：")]),a("em",{staticClass:"btn"},[e._v(e._s(e.proprietorDetial.proprietor.proprietorAndRoom.time))])]),a("div",{staticClass:"item2"},[a("i",{staticClass:"title"},[e._v("房产证号：")]),a("em",{staticClass:"btn"},[e._v(e._s(e.proprietorDetial.proprietor.proprietorAndRoom.pocCode))])]),a("div",{staticClass:"item3"},[a("i",{staticClass:"title"},[e._v("购房合同号：")]),a("em",{staticClass:"btn"},[e._v(e._s(e.proprietorDetial.proprietor.proprietorAndRoom.contractCode))])]),a("div",{staticClass:"item4"},[a("i",{staticStyle:{width:"105px",display:"inline-block",color:"#7c8185"}},[e._v("管理协议书号：")]),a("em",{staticClass:"btn"},[e._v(e._s(e.proprietorDetial.proprietor.proprietorAndRoom.agreementNumber))])])])]),a("div",{staticClass:"editInfo",on:{click:e.openEditInfoDialog}},[a("i",{staticClass:"iconfont iconbianji"}),a("em",[e._v("修改")])])])]),a("div",{staticClass:"mainInfo"},[a("div",{staticClass:"userSearch"},[a("div",{staticClass:"froat"},[a("i",{staticClass:"iconfont iconzhanghao"}),a("i",{staticClass:"textTitle"},[e._v("家庭成员")])]),a("div",{staticClass:"last"},[a("div",{staticClass:"pmbtn primary",staticStyle:{"margin-right":"15px"},on:{click:e.openMemberDialog}},[a("i",{staticClass:"iconfont icontianjia"}),e._v("添加成员\n                ")]),a("div",{staticClass:"item"},[a("div",{staticClass:"pmbtn",staticStyle:{"margin-right":"15px"}},[a("i",{staticClass:"iconfont icondaoru"}),e._v("\n                        导入\n                    ")]),a("div",{staticClass:"pmbtn"},[a("i",{staticClass:"iconfont icondaochu"}),e._v("\n                        导出\n                    ")])])])]),a("el-table",{staticClass:"myTable",attrs:{stripe:"",data:e.familyMemberList,"header-cell-style":{background:"#f4f6f9"}}},[a("template",{slot:"empty"},[a("img",{attrs:{src:i("fd46")}}),a("br"),e._v("\n                暂无内容\n            ")]),a("el-table-column",{attrs:{type:"index",width:"80px",align:"center",label:"序号"}}),a("el-table-column",{attrs:{prop:"personName",label:"姓名","min-width":"100","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"domesticRelationCode",label:"与户主关系","min-width":"80","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;t.$index;return[e._v("\n                    "+e._s(e.relation.find((function(e){return e.code===i.domesticRelationCode})).name)+"\n                ")]}}])}),a("el-table-column",{attrs:{prop:"birthday",label:"出生日期",width:"120","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"nationCode",label:"民族","min-width":"50","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;t.$index;return[""!==i.nationCode?a("div",[e._v(e._s(e.nation.find((function(e){return e.code===i.nationCode})).name))]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"nativePlaceRegionCode",label:"籍贯","min-width":"50"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;t.$index;return[""!==i.nativePlaceRegionCode?a("div",[e._v(e._s(e.native.find((function(e){return e.code===i.nativePlaceRegionCode})).name))]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"tel",label:"联系电话","min-width":"100","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;t.$index;return["暂无"===(i.tel||"暂无")?a("div",{staticStyle:{color:"#a0a5a9"}},[e._v("暂无")]):a("div",[e._v(e._s(i.tel))])]}}])}),a("el-table-column",{attrs:{prop:"remark",label:"附加信息","min-width":"100","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;t.$index;return["暂无"===(i.remark||"暂无")?a("div",{staticStyle:{color:"#a0a5a9"}},[e._v("暂无")]):a("div",[e._v(e._s(i.remark))])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;t.$index;return[a("div",{staticClass:"tableEdit"},[a("div",{staticClass:"item",on:{click:function(t){return e.openEditMemberDialog(i.id)}}},[e._v("编辑")]),a("div",{staticClass:"item delete",on:{click:function(t){return e.deleteFamilyInfo(i.id)}}},[e._v("删除")])])]}}])})],2),a("div",{staticClass:"userSearch",staticStyle:{"padding-top":"40px"}},[a("div",{staticClass:"froat"},[a("i",{staticClass:"iconfont iconche"}),a("i",{staticClass:"textTitle"},[e._v("车位信息")])]),a("div",{staticClass:"last"},[a("div",{staticClass:"pmbtn primary",on:{click:e.addCarport}},[a("i",{staticClass:"iconfont icontianjia"}),e._v("添加车位\n                ")])])]),e._l(e.proprietorDetialInfo.spaceRoomCars,(function(t){return a("div",{staticClass:"header"},[a("div",{staticClass:"front"},[a("div",{staticStyle:{"margin-left":"15px"}},[a("i",{staticClass:"line"}),a("i",{staticClass:"font"},[e._v(e._s(e.parkingList.find((function(e){return e.id===t.packingSpace.parkingId})).name)+"——"+e._s(t.packingSpace.code))]),a("i",{directives:[{name:"show",rawName:"v-show",value:"3"===t.packingSpace.statusCode,expression:"item.packingSpace.statusCode==='3'"}],staticStyle:{"margin-left":"15px"}},[e._v("使用期限:"+e._s(t.packingSpace.rentedTimeStart)+"—"+e._s(t.packingSpace.rentedTimeEnd))])]),a("div",{staticClass:"aa"},[a("div",{staticStyle:{"margin-right":"20px","user-select":"none",cursor:"pointer"},on:{click:function(i){return e.editParkSpace(t.packingSpace.id)}}},[a("i",{staticClass:"iconfont iconbianji",staticStyle:{"padding-right":"5px"}}),a("i",[e._v("编辑")])]),a("div",[a("div",{staticStyle:{"user-select":"none",cursor:"pointer"},on:{click:function(i){return e.deleteParkSpaceInfo(t.packingSpace.id)}}},[a("i",{staticClass:"iconfont iconshanchu",staticStyle:{"padding-right":"5px"}}),a("i",[e._v("删除")])])])])]),a("div",{staticClass:"last"},e._l(t.cars,(function(t,i){return a("div",{key:i,staticStyle:{width:"100%",display:"flex"}},[a("div",{staticClass:"bor"},[a("i",{staticClass:"textCar"},[e._v("登记车牌"+e._s(i+1)+"：")]),""!==t.carNum?a("i",[e._v(e._s(t.carNum))]):a("i",{staticStyle:{color:"#a0a5a9"}},[e._v("暂未登记")])]),a("div",{staticClass:"bor"},[a("i",{staticClass:"textCar"},[e._v("车牌颜色：")]),""!==t.plateColorCode?a("i",[e._v(e._s(e.colorList.find((function(e){return e.code===t.plateColorCode})).name))]):a("i",{staticStyle:{color:"#a0a5a9"}},[e._v("暂未登记")])])])})),0)])}))],2)]),e.closeEditInfoDialog?a("el-dialog",{attrs:{visible:e.editInfoVisible,"custom-class":"emDialog",width:"844px","modal-append-to-body":!1,"close-on-click-modal":!1,top:"15vh"},on:{"update:visible":function(t){e.editInfoVisible=t},close:e.closeEditInfoDialog}},[a("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"iconColumn"}),e._v("\n            修改\n        ")]),a("div",{staticClass:"MuModalContent"},[a("div",{staticClass:"title"},[a("i",{staticClass:"iconfont iconfangzi"}),a("em",[e._v(e._s(e.roomName))])]),a("div",{staticClass:"main"},[a("div",{staticClass:"left"},[a("div",{staticClass:"content"},[a("div",{staticClass:"aline1"},[a("div",{staticClass:"item btn"},[e._v("业主名称")]),a("div",{staticClass:"item"},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"必填",necessary:""},model:{value:e.proprietorDetialEdit.personInfo.name,callback:function(t){e.$set(e.proprietorDetialEdit.personInfo,"name",t)},expression:"proprietorDetialEdit.personInfo.name"}})],1)]),a("div",{staticClass:"aline1"},[a("div",{staticClass:"item btn"},[e._v("身份证号")]),a("div",{staticClass:"item"},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"必填",disabled:!0},model:{value:e.proprietorDetialEdit.personInfo.cardNumber,callback:function(t){e.$set(e.proprietorDetialEdit.personInfo,"cardNumber",t)},expression:"proprietorDetialEdit.personInfo.cardNumber"}})],1)])]),a("div",{staticClass:"content"},[a("div",{staticClass:"aline1"},[a("div",{staticClass:"item btn"},[e._v("出生日期")]),a("div",{staticClass:"item"},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"请选择",value:e.proprietorDetialEdit.personInfo.birthday},on:{"on-change":e.handleBirthday}})],1)]),a("div",{staticClass:"aline1"},[a("div",{staticClass:"item btn"},[e._v("性别")]),a("div",{staticClass:"item"},[a("mixSelect",{staticStyle:{width:"200px","min-width":"200px"},attrs:{selectList:e.sex,labelName:"name",valueName:"code",childrenName:"children",placeholder:"请选择"},model:{value:e.proprietorDetialEdit.personInfo.sexCode,callback:function(t){e.$set(e.proprietorDetialEdit.personInfo,"sexCode",t)},expression:"proprietorDetialEdit.personInfo.sexCode"}})],1)])]),a("div",{staticClass:"content"},[a("div",{staticClass:"aline1"},[a("div",{staticClass:"item btn"},[e._v("民族")]),a("div",{staticClass:"item"},[a("mixSelect",{staticStyle:{width:"200px","min-width":"200px"},attrs:{selectList:e.nation,labelName:"name",valueName:"code",childrenName:"children",placeholder:"请选择"},model:{value:e.proprietorDetialEdit.personInfo.nationCode,callback:function(t){e.$set(e.proprietorDetialEdit.personInfo,"nationCode",t)},expression:"proprietorDetialEdit.personInfo.nationCode"}})],1)]),a("div",{staticClass:"aline1"},[a("div",{staticClass:"item btn"},[e._v("籍贯")]),a("div",{staticClass:"item"},[a("mixSelect",{staticStyle:{width:"200px","min-width":"200px"},attrs:{selectList:e.native,labelName:"name",valueName:"code",placeholder:"请选择"},model:{value:e.proprietorDetialEdit.personInfo.nativePlaceRegionCode,callback:function(t){e.$set(e.proprietorDetialEdit.personInfo,"nativePlaceRegionCode",t)},expression:"proprietorDetialEdit.personInfo.nativePlaceRegionCode"}})],1)])]),a("div",{staticClass:"content"},[a("div",{staticClass:"aline1"},[a("div",{staticClass:"item btn"},[e._v("联系方式")]),a("div",{staticClass:"item"},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"必填",necessary:""},model:{value:e.proprietorDetialEdit.personInfo.tel,callback:function(t){e.$set(e.proprietorDetialEdit.personInfo,"tel",t)},expression:"proprietorDetialEdit.personInfo.tel"}})],1)]),a("div",{staticClass:"aline1"},[a("div",{staticClass:"item btn"},[e._v("入伙时间")]),a("div",{staticClass:"item"},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"datetime",placeholder:"请选择",value:e.proprietorDetialEdit.proprietorAndRoom.time},on:{"on-change":e.handleTime}})],1)])]),a("div",{staticClass:"content"},[a("div",{staticClass:"aline1"},[a("div",{staticClass:"item btn"},[e._v("购房合同号")]),a("div",{staticClass:"item"},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入"},model:{value:e.proprietorDetialEdit.proprietorAndRoom.contractCode,callback:function(t){e.$set(e.proprietorDetialEdit.proprietorAndRoom,"contractCode",t)},expression:"proprietorDetialEdit.proprietorAndRoom.contractCode"}})],1)]),a("div",{staticClass:"aline1"},[a("div",{staticClass:"item btn"},[e._v("管理协议书号")]),a("div",{staticClass:"item"},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入"},model:{value:e.proprietorDetialEdit.proprietorAndRoom.agreementNumber,callback:function(t){e.$set(e.proprietorDetialEdit.proprietorAndRoom,"agreementNumber",t)},expression:"proprietorDetialEdit.proprietorAndRoom.agreementNumber"}})],1)])]),a("div",{staticClass:"content"},[a("div",{staticClass:"aline1"},[a("div",{staticClass:"item btn"},[e._v("房产证号")]),a("div",{staticClass:"item"},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入"},model:{value:e.proprietorDetialEdit.proprietorAndRoom.pocCode,callback:function(t){e.$set(e.proprietorDetialEdit.proprietorAndRoom,"pocCode",t)},expression:"proprietorDetialEdit.proprietorAndRoom.pocCode"}})],1)])]),a("div",{staticClass:"content"},[a("div",{staticClass:"aline1",staticStyle:{width:"100%"}},[a("div",{staticStyle:{"min-width":"80px","text-align":"right","margin-right":"20px"}},[e._v("附加信息")]),a("div",{staticStyle:{width:"100%"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.proprietorDetialEdit.personInfo.remark,expression:"proprietorDetialEdit.personInfo.remark"}],staticStyle:{width:"100%"},domProps:{value:e.proprietorDetialEdit.personInfo.remark},on:{input:function(t){t.target.composing||e.$set(e.proprietorDetialEdit.personInfo,"remark",t.target.value)}}})])])])]),a("div",{staticClass:"right"},[a("label",{staticClass:"upfileInfo",attrs:{for:"addupload"}},[e.imgportadd?a("img",{attrs:{src:e.imgportadd}}):a("i",{staticClass:"iconzhengjianzhao iconfont"}),a("div",{staticClass:"item"},[e._v("重新上传")])]),a("input",{attrs:{type:"file",accept:"image/*",id:"addupload"},on:{change:e.upAddImg}})])])]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"pmbtn primary",staticStyle:{"margin-right":"10px"},on:{click:e.updateProprietorInfo}},[e._v("确定")]),a("div",{staticClass:"pmbtn",on:{click:e.closeEditInfoDialog}},[e._v("取消")])])]):e._e(),e.closeMemberDialog?a("el-dialog",{attrs:{visible:e.addMemberVisible,"custom-class":"emDialog",width:"545px","modal-append-to-body":!1,"close-on-click-modal":!1,top:"17vh"},on:{"update:visible":function(t){e.addMemberVisible=t},close:e.closeMemberDialog}},[a("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"iconColumn"}),e._v("\n            添加成员\n        ")]),a("div",{staticClass:"MuModalContent"},[a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("姓名")]),a("div",{staticClass:"info"},[a("Input",{attrs:{placeholder:"必填",necessary:""},model:{value:e.addMemberInfo.personInfo.name,callback:function(t){e.$set(e.addMemberInfo.personInfo,"name",t)},expression:"addMemberInfo.personInfo.name"}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("与户主关系")]),a("div",{staticClass:"info"},[a("mixSelect",{staticStyle:{"max-width":"100%"},attrs:{selectList:e.relation,labelName:"name",valueName:"code",childrenName:"children",placeholder:"必填"},model:{value:e.addMemberInfo.domesticRelationCode,callback:function(t){e.$set(e.addMemberInfo,"domesticRelationCode",t)},expression:"addMemberInfo.domesticRelationCode"}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("身份证号")]),a("div",{staticClass:"info"},[a("Input",{attrs:{placeholder:"必填"},model:{value:e.addMemberInfo.personInfo.cardNumber,callback:function(t){e.$set(e.addMemberInfo.personInfo,"cardNumber",t)},expression:"addMemberInfo.personInfo.cardNumber"}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("性别")]),a("div",{staticClass:"info"},[a("mixSelect",{staticStyle:{"max-width":"100%"},attrs:{selectList:e.sex,labelName:"name",valueName:"code",childrenName:"children",placeholder:"请选择"},model:{value:e.addMemberInfo.personInfo.sexCode,callback:function(t){e.$set(e.addMemberInfo.personInfo,"sexCode",t)},expression:"addMemberInfo.personInfo.sexCode"}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("出生日期")]),a("div",{staticClass:"info"},[a("DatePicker",{ref:"dateForm",staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"请选择"},on:{"on-change":e.handChange},model:{value:e.addMemberInfo.personInfo.birthday,callback:function(t){e.$set(e.addMemberInfo.personInfo,"birthday",t)},expression:"addMemberInfo.personInfo.birthday"}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("民族")]),a("div",{staticClass:"info"},[a("mixSelect",{staticStyle:{"max-width":"100%"},attrs:{selectList:e.nation,labelName:"name",valueName:"code",childrenName:"children",placeholder:"请选择"},model:{value:e.addMemberInfo.personInfo.nationCode,callback:function(t){e.$set(e.addMemberInfo.personInfo,"nationCode",t)},expression:"addMemberInfo.personInfo.nationCode"}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("籍贯")]),a("div",{staticClass:"info"},[a("mixSelect",{staticStyle:{"max-width":"100%"},attrs:{selectList:e.native,labelName:"name",valueName:"code",placeholder:"请选择"},model:{value:e.addMemberInfo.personInfo.nativePlaceRegionCode,callback:function(t){e.$set(e.addMemberInfo.personInfo,"nativePlaceRegionCode",t)},expression:"addMemberInfo.personInfo.nativePlaceRegionCode"}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("联系电话")]),a("div",{staticClass:"info"},[a("Input",{attrs:{placeholder:"必填",necessary:""},model:{value:e.addMemberInfo.personInfo.tel,callback:function(t){e.$set(e.addMemberInfo.personInfo,"tel",t)},expression:"addMemberInfo.personInfo.tel"}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("附加信息")]),a("div",{staticClass:"info"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.addMemberInfo.personInfo.remark,expression:"addMemberInfo.personInfo.remark"}],staticStyle:{width:"100%"},attrs:{placeholder:"请输入"},domProps:{value:e.addMemberInfo.personInfo.remark},on:{input:function(t){t.target.composing||e.$set(e.addMemberInfo.personInfo,"remark",t.target.value)}}})])])]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"pmbtn primary",staticStyle:{"margin-right":"10px"},on:{click:e.addMember}},[e._v("确定")]),a("div",{staticClass:"pmbtn",on:{click:e.closeMemberDialog}},[e._v("取消")])])]):e._e(),e.closeEditMemberDialog?a("el-dialog",{attrs:{visible:e.editMemberVisible,"custom-class":"emDialog",width:"545px","modal-append-to-body":!1,"close-on-click-modal":!1,top:"17vh"},on:{"update:visible":function(t){e.editMemberVisible=t},close:e.closeEditMemberDialog}},[a("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"iconColumn"}),e._v("\n            编辑成员信息\n        ")]),a("div",{staticClass:"MuModalContent"},[a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("姓名")]),a("div",{staticClass:"info"},[a("Input",{attrs:{placeholder:"必填",necessary:""},model:{value:e.familyMemberInfo.personInfo.name,callback:function(t){e.$set(e.familyMemberInfo.personInfo,"name",t)},expression:"familyMemberInfo.personInfo.name"}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("与户主关系")]),a("div",{staticClass:"info"},[a("mixSelect",{staticStyle:{"max-width":"100%"},attrs:{selectList:e.relation,labelName:"name",valueName:"code",childrenName:"children",placeholder:"必填"},model:{value:e.familyMemberInfo.domesticRelationCode,callback:function(t){e.$set(e.familyMemberInfo,"domesticRelationCode",t)},expression:"familyMemberInfo.domesticRelationCode"}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("身份证号")]),a("div",{staticClass:"info"},[a("Input",{attrs:{disabled:"",placeholder:"请输入"},model:{value:e.familyMemberInfo.personInfo.cardNumber,callback:function(t){e.$set(e.familyMemberInfo.personInfo,"cardNumber",t)},expression:"familyMemberInfo.personInfo.cardNumber"}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("性别")]),a("div",{staticClass:"info"},[a("mixSelect",{staticStyle:{"max-width":"100%"},attrs:{selectList:e.sex,labelName:"name",valueName:"code",childrenName:"children",placeholder:"请选择"},model:{value:e.familyMemberInfo.personInfo.sexCode,callback:function(t){e.$set(e.familyMemberInfo.personInfo,"sexCode",t)},expression:"familyMemberInfo.personInfo.sexCode"}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("出生日期")]),a("div",{staticClass:"info"},[a("DatePicker",{ref:"dateForm",staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"请选择",value:e.familyMemberInfo.personInfo.birthday},on:{"on-change":e.handChangeEdit}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("民族")]),a("div",{staticClass:"info"},[a("mixSelect",{staticStyle:{"max-width":"100%"},attrs:{selectList:e.nation,labelName:"name",valueName:"code",childrenName:"children",placeholder:"请选择"},model:{value:e.familyMemberInfo.personInfo.nationCode,callback:function(t){e.$set(e.familyMemberInfo.personInfo,"nationCode",t)},expression:"familyMemberInfo.personInfo.nationCode"}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("籍贯")]),a("div",{staticClass:"info"},[a("mixSelect",{staticStyle:{"max-width":"100%"},attrs:{selectList:e.native,labelName:"name",valueName:"code",placeholder:"请选择"},model:{value:e.familyMemberInfo.personInfo.nativePlaceRegionCode,callback:function(t){e.$set(e.familyMemberInfo.personInfo,"nativePlaceRegionCode",t)},expression:"familyMemberInfo.personInfo.nativePlaceRegionCode"}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("联系电话")]),a("div",{staticClass:"info"},[a("Input",{attrs:{placeholder:"必填",necessary:""},model:{value:e.familyMemberInfo.personInfo.tel,callback:function(t){e.$set(e.familyMemberInfo.personInfo,"tel",t)},expression:"familyMemberInfo.personInfo.tel"}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("附加信息")]),a("div",{staticClass:"info"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.familyMemberInfo.personInfo.remark,expression:"familyMemberInfo.personInfo.remark"}],staticStyle:{width:"100%"},attrs:{placeholder:"请输入"},domProps:{value:e.familyMemberInfo.personInfo.remark},on:{input:function(t){t.target.composing||e.$set(e.familyMemberInfo.personInfo,"remark",t.target.value)}}})])])]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"pmbtn primary",staticStyle:{"margin-right":"10px"},on:{click:e.editFamilyInfo}},[e._v("确定")]),a("div",{staticClass:"pmbtn",on:{click:e.closeEditMemberDialog}},[e._v("取消")])])]):e._e(),e.addCarportVisible?a("el-dialog",{attrs:{visible:e.addCarportVisible,"custom-class":"emDialog",width:"545px","modal-append-to-body":!1,"close-on-click-modal":!1,top:"20vh"},on:{"update:visible":function(t){e.addCarportVisible=t},close:e.closeAddCarport}},[a("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"iconColumn"}),e._v("\n            添加车位\n        ")]),a("div",{staticClass:"MuModalContent"},[a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("停车场")]),a("div",{staticClass:"info"},[a("mixSelect",{staticStyle:{"max-width":"100%"},attrs:{selectList:e.parkingList,labelName:"name",valueName:"id",placeholder:"必选"},on:{sentTo:e.parkingSearch},model:{value:e.parkingId,callback:function(t){e.parkingId=t},expression:"parkingId"}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("车位编号")]),a("div",{staticClass:"info"},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"必选"},on:{change:e.handleSelect},model:{value:e.addCarportInfo.spaceId,callback:function(t){e.$set(e.addCarportInfo,"spaceId",t)},expression:"addCarportInfo.spaceId"}},e._l(e.parkSpaceList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.code,value:e.id}})})),1)],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:""!==e.addCarportInfo.spaceId&&"3"===e.parkSpaceDeitailList.statusCode,expression:"addCarportInfo.spaceId!==''&&parkSpaceDeitailList.statusCode==='3'"}],staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("租用期限")]),a("div",{staticClass:"info"},[a("Input",{attrs:{placeholder:"请输入",disabled:""},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:""!==e.addCarportInfo.spaceId&&"2"===e.parkSpaceDeitailList.statusCode,expression:"addCarportInfo.spaceId!==''&&parkSpaceDeitailList.statusCode==='2'"}],staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("租用期限")]),a("div",{staticClass:"info"},[a("Input",{attrs:{placeholder:"永久",disabled:""}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("登记车牌1")])]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label",staticStyle:{color:"#7c8185"}},[e._v("车牌号")]),a("div",{staticClass:"info"},[a("Input",{attrs:{placeholder:"请输入"},on:{blur:e.limitCarNum1},model:{value:e.addCarportInfo.carNum1,callback:function(t){e.$set(e.addCarportInfo,"carNum1",t)},expression:"addCarportInfo.carNum1"}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label",staticStyle:{color:"#7c8185"}},[e._v("车牌颜色")]),a("div",{staticClass:"info"},[a("mixSelect",{staticClass:"margin",staticStyle:{width:"100%"},attrs:{selectList:e.colorList,labelName:"name",valueName:"code",placeholder:"请选择"},model:{value:e.addCarportInfo.plateColorCode1,callback:function(t){e.$set(e.addCarportInfo,"plateColorCode1",t)},expression:"addCarportInfo.plateColorCode1"}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("登记车牌2")])]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label",staticStyle:{color:"#7c8185"}},[e._v("车牌号")]),a("div",{staticClass:"info"},[a("Input",{attrs:{placeholder:"请输入"},on:{blur:e.limitCarNum2},model:{value:e.addCarportInfo.carNum2,callback:function(t){e.$set(e.addCarportInfo,"carNum2",t)},expression:"addCarportInfo.carNum2"}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label",staticStyle:{color:"#7c8185"}},[e._v("车牌颜色")]),a("div",{staticClass:"info"},[a("mixSelect",{staticClass:"margin",staticStyle:{width:"100%"},attrs:{selectList:e.colorList,labelName:"name",valueName:"code",placeholder:"请选择"},model:{value:e.addCarportInfo.plateColorCode2,callback:function(t){e.$set(e.addCarportInfo,"plateColorCode2",t)},expression:"addCarportInfo.plateColorCode2"}})],1)])]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"pmbtn primary",staticStyle:{"margin-right":"10px"},on:{click:e.addParkSapceInfo}},[e._v("确定")]),a("div",{staticClass:"pmbtn",on:{click:e.closeAddCarport}},[e._v("取消")])])]):e._e(),a("el-dialog",{attrs:{visible:e.editCarportVisible,"custom-class":"emDialog",width:"545px","modal-append-to-body":!1,"close-on-click-modal":!1,top:"20vh"},on:{"update:visible":function(t){e.editCarportVisible=t}}},[a("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"iconColumn"}),e._v("\n            修改车位信息\n        ")]),a("div",{staticClass:"MuModalContent"},[a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("停车场")]),a("div",{staticClass:"info"},[a("mixSelect",{staticStyle:{"max-width":"100%"},attrs:{selectList:e.parkingList,labelName:"name",valueName:"id",placeholder:"请选择",disabled:""},model:{value:e.editCarportInfo.parkingId,callback:function(t){e.$set(e.editCarportInfo,"parkingId",t)},expression:"editCarportInfo.parkingId"}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("车位编号")]),a("div",{staticClass:"info"},[a("Input",{attrs:{disabled:""},model:{value:e.editCarportInfo.code,callback:function(t){e.$set(e.editCarportInfo,"code",t)},expression:"editCarportInfo.code"}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:"3"===e.editCarportInfo.statusCode,expression:"editCarportInfo.statusCode==='3'"}],staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("租用期限")]),a("div",{staticClass:"info"},[a("Input",{attrs:{placeholder:"请输入",disabled:""},model:{value:e.time2,callback:function(t){e.time2=t},expression:"time2"}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:"2"===e.editCarportInfo,expression:"editCarportInfo==='2'"}],staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("租用期限")]),a("div",{staticClass:"info"},[a("Input",{attrs:{placeholder:"永久",disabled:""}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("登记车牌1")])]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label",staticStyle:{color:"#7c8185"}},[e._v("车牌号")]),a("div",{staticClass:"info"},[a("Input",{attrs:{placeholder:"请输入"},model:{value:e.cars1.carNum,callback:function(t){e.$set(e.cars1,"carNum",t)},expression:"cars1.carNum"}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label",staticStyle:{color:"#7c8185"}},[e._v("车牌颜色")]),a("div",{staticClass:"info"},[a("mixSelect",{staticClass:"margin",staticStyle:{width:"100%"},attrs:{selectList:e.colorList,labelName:"name",valueName:"code",placeholder:"请选择"},model:{value:e.cars1.plateColorCode,callback:function(t){e.$set(e.cars1,"plateColorCode",t)},expression:"cars1.plateColorCode"}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label"},[e._v("登记车牌2")])]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label",staticStyle:{color:"#7c8185"}},[e._v("车牌号")]),a("div",{staticClass:"info"},[a("Input",{attrs:{placeholder:"请输入"},model:{value:e.cars2.carNum,callback:function(t){e.$set(e.cars2,"carNum",t)},expression:"cars2.carNum"}})],1)]),a("div",{staticClass:"aline"},[a("div",{staticClass:"label",staticStyle:{color:"#7c8185"}},[e._v("车牌颜色")]),a("div",{staticClass:"info"},[a("mixSelect",{staticClass:"margin",staticStyle:{width:"100%"},attrs:{selectList:e.colorList,labelName:"name",valueName:"code",placeholder:"请选择"},model:{value:e.cars2.plateColorCode,callback:function(t){e.$set(e.cars2,"plateColorCode",t)},expression:"cars2.plateColorCode"}})],1)])]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"pmbtn primary",staticStyle:{"margin-right":"10px"},on:{click:e.updateParkSpaceInfo}},[e._v("确定")]),a("div",{staticClass:"pmbtn",on:{click:function(t){e.editCarportVisible=!1}}},[e._v("取消")])])])],1)},b=[],I=i("b6c4");function y(e,t){return I["a"].get("/api/pm/family-archive/room/roomList",{rdId:e,buildingId:t})}function x(e){return I["a"].get("/api/pm/family-archive/common/dict/name_item",{name:e})}function k(){return I["a"].get("/api/pm/family-archive/personInfo/regionTree")}function w(){return I["a"].get("/api/pm/family-archive/proprietor/exportProprietor")}function R(e){return I["a"].post("/api/pm/family-archive/proprietor/",e)}function _(e){return I["a"].put("/api/pm/family-archive/proprietor/changeProprietor",e)}function S(e){return I["a"].delete("/api/pm/family-archive/proprietor/",e)}function N(e){return I["a"].get("/api/pm/family-archive/proprietor/history",{roomId:e})}function D(e){return I["a"].get("/api/pm/family-archive/proprietor/Info",{id:e})}function P(e){return I["a"].get("/api/pm/family-archive/familyMember/",{proprietorId:e})}function M(e){return I["a"].put("/api/pm/family-archive/proprietor/",e)}function $(e){return I["a"].post("/api/pm/family-archive/familyMember/",e)}function O(e){return I["a"].delete("/api/pm/family-archive/familyMember/",e)}function A(e){return I["a"].get("/api/pm/family-archive/familyMember/Info",{id:e})}function T(e){return I["a"].put("/api/pm/family-archive/familyMember/",e)}function L(e){return I["a"].get("/api/pm/family-archive/packingLot/",{rdId:e})}function j(e,t){return I["a"].get("/api/pm/family-archive/packingSpace/list",{parkingId:e,code:t})}function E(e){return I["a"].post("/api/pm/family-archive/packingSpace/add/proprietor",e)}function F(e,t){return I["a"].delete("/api/pm/family-archive/packingSpace/del/relation?proprietorId=".concat(e),t)}function V(e){return I["a"].get("/api/pm/family-archive/packingSpace/Info/car",{id:e})}function B(e){return I["a"].get("/api/pm/family-archive/building/number",{id:e})}function z(e){return I["a"].get("/api/pm/family-archive/building/",{rdId:e})}function H(e){var t=G();return function(){var i,a=Object(d["a"])(e);if(t){var o=Object(d["a"])(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return Object(c["a"])(this,i)}}function G(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var U=function(e){Object(l["a"])(i,e);var t=H(i);function i(){var e;return Object(n["a"])(this,i),e=t.apply(this,arguments),e.viewImgSrc=null,e.relation=[],e.parkingId="",e.imageUrl="",e.nation=[],e.parkSpaceList=[],e.sex=[],e.native=[],e.parkingList=[],e.proprietorId="",e.familyMemberList=[],e.proprietorDetial={proprietor:{personInfo:{name:"",birthday:null,idDocumentTypeCode:"",cardNumber:null,company:"",locationDetailed:"",locationRegionCode:"",maritalStatusCode:"",nationCode:"",nationalityCode:"",nativePlaceRegionCode:"",nickname:"",occupationCode:"",politicsStatusCode:"",sexCode:"",eduDegreeCode:"",tel:"",presentAddressRegionCode:"",presentAddressDetailed:"",photoId:"",remark:""},proprietorAndRoom:{proprietorAndRoomOccupation:{chargingDate:""},roomId:"",pocCode:"",agreementNumber:"",contractCode:"",time:"",endTime:null}},familyMemberList:[]},e.proprietorDetialInfo=[],e.subFlag=!0,e.addMemberInfo={proprietorId:"",domesticRelationCode:"",personInfo:{name:"",birthday:"",idDocumentTypeCode:"",cardNumber:"",nationCode:"",nativePlaceRegionCode:"",sexCode:"",tel:"",remark:""}},e.familyMemberInfo={proprietorId:"",domesticRelationCode:"",personInfo:{name:"",birthday:"",idDocumentTypeCode:"",cardNumber:"",nationCode:"",nativePlaceRegionCode:"",sexCode:"",tel:"",remark:""}},e.proprietorDetialEdit={name:"",personInfo:{name:"",birthday:null,idDocumentTypeCode:"",cardNumber:null,company:"",locationDetailed:"",locationRegionCode:"",maritalStatusCode:"",nationCode:"",nationalityCode:"",nativePlaceRegionCode:"",nickname:"",occupationCode:"",politicsStatusCode:"",sexCode:"",eduDegreeCode:"",tel:"",presentAddressRegionCode:"",presentAddressDetailed:"",photoId:"",remark:""},proprietorAndRoom:{proprietorAndRoomOccupation:{chargingDate:""},contractCode:"",roomId:"",pocCode:"",agreementNumber:"",time:"",endTime:null}},e.editInfoVisible=!1,e.addMemberVisible=!1,e.editMemberVisible=!1,e.addCarportVisible=!1,e.editCarportVisible=!1,e.parkSpaceDeitailList=[],e.colorList=[],e.cars1=[],e.cars2={carNum:"",plateColorCode:""},e.time="",e.time2="",e.editCarportInfo=[],e.addCarportInfo={carNum1:"",carNum2:"",plateColorCode1:"",plateColorCode2:"",roomId:"",spaceId:"",statusCode:""},e.loaderOption={lock:!0,body:!0,text:"上传中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.8)"},e}return Object(s["a"])(i,[{key:"gettableFlag",value:function(){this.tableFlag&&(this.getParkingLIst(this.rdId),this.getFamilyMember(this.personId),this.getProprietorInfoDetial(this.personId))}},{key:"created",value:function(){this.getNation(),this.getNation(),this.getSex(),this.getRegionTree(),this.getRelation(),this.getColor()}},{key:"backClose",value:function(){this.$emit("close")}},{key:"openMemberDialog",value:function(){this.addMemberVisible=!0,this.getRegionTree()}},{key:"handleStartTime",value:function(e){this.proprietorDetialEdit.proprietorAndRoom.proprietorAndRoomOccupation.chargingDate=e}},{key:"closeMemberDialog",value:function(){this.addMemberVisible=!1,this.addMemberInfo={proprietorId:"",domesticRelationCode:"",personInfo:{name:"",birthday:"",idDocumentTypeCode:"",cardNumber:"",nationCode:"",nativePlaceRegionCode:"",sexCode:"",tel:"",remark:""}}}},{key:"openEditMemberDialog",value:function(e){this.editMemberVisible=!0,this.getFamilyInfoById(e)}},{key:"closeEditMemberDialog",value:function(){this.editMemberVisible=!1}},{key:"openEditInfoDialog",value:function(){this.editInfoVisible=!0,this.proprietorDetialEdit=JSON.parse(JSON.stringify(this.proprietorDetialInfo.proprietor))}},{key:"closeEditInfoDialog",value:function(){this.editInfoVisible=!1}},{key:"handChange",value:function(e){this.addMemberInfo.personInfo.birthday=e}},{key:"addCarport",value:function(){this.addCarportVisible=!0}},{key:"closeAddCarport",value:function(){this.addCarportVisible=!1,this.parkingId="",this.parkSpaceDeitailList=[],this.parkSpaceList=[],this.addCarportInfo={carNum1:"",carNum2:"",plateColorCode1:"",plateColorCode2:"",roomId:"",spaceId:"",statusCode:""}}},{key:"handleAvatarSuccess",value:function(e,t){this.imageUrl=URL.createObjectURL(t.raw)}},{key:"handChangeEdit",value:function(e){this.familyMemberInfo.personInfo.birthday=e}},{key:"handleBirthday",value:function(e){this.proprietorDetialEdit.personInfo.birthday=e}},{key:"handleTime",value:function(e){this.proprietorDetialEdit.proprietorAndRoom.time=e}},{key:"parkingSearch",value:function(){this.getParkSpacelist(this.parkingId),this.addCarportInfo.spaceId=""}},{key:"handleSelect",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.getParkSpaceById(t);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"editParkSpace",value:function(e){this.editCarportVisible=!0,this.getCarInfoById(e)}},{key:"limitCarNum1",value:function(){var e=/(^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1}$)/;""!==this.addCarportInfo.carNum1&&(e.test(this.addCarportInfo.carNum1)||(this.$message.warning("车牌号有误，请重新输入"),this.addCarportInfo.carNum1=""))}},{key:"limitCarNum2",value:function(){var e=/(^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1}$)/;""!==this.addCarportInfo.carNum2&&(e.test(this.addCarportInfo.carNum2)||(this.$message.warning("车牌号有误，请重新输入"),this.addCarportInfo.carNum2=""))}},{key:"upAddImg",value:function(e){var t=this,i=new FormData,a="bmp,jpg,jpeg,png",o=a.indexOf(e.target.files[0].type.replace("image/",""))>-1;if(o){i.append("file",e.target.files[0]),i.append("relativePath","");var n=this.$loading(this.loaderOption);setTimeout(Object(r["a"])(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I["e"](i,t.$upBaseUrl());case 3:a=e.sent,o=a.data.id,t.proprietorDetialEdit.personInfo.photoId=o,t.$message.success("上传成功！"),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),t.$message.error("上传失败!");case 12:n.close()(document.getElementById("addupload")).value="";case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),200)}else this.$message({showClose:!0,message:"图片格式错误！支持格式：bmp,jpg,jpeg,png。",type:"error"})}},{key:"getFamilyMember",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,P(t);case 2:i=e.sent,a=i.data,this.familyMemberList=a;case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getProprietorInfoDetial",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var i,a,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D(t);case 3:i=e.sent,a=i.data,this.proprietorDetialInfo=a,this.proprietorDetial=JSON.parse(JSON.stringify(this.proprietorDetialInfo)),void 0!==this.nation.find((function(e){return e.code===o.proprietorDetial.proprietor.personInfo.nationCode}))&&(this.proprietorDetial.proprietor.personInfo.nationCode=this.nation.find((function(e){return e.code===o.proprietorDetial.proprietor.personInfo.nationCode})).name),void 0!==this.sex.find((function(e){return e.code===o.proprietorDetial.proprietor.personInfo.sexCode}))&&(this.proprietorDetial.proprietor.personInfo.sexCode=this.sex.find((function(e){return e.code===o.proprietorDetial.proprietor.personInfo.sexCode})).name),void 0!==this.native.find((function(e){return e.code===o.proprietorDetial.proprietor.personInfo.nativePlaceRegionCode}))&&(this.proprietorDetial.proprietor.personInfo.nativePlaceRegionCode=this.native.find((function(e){return e.code===o.proprietorDetial.proprietor.personInfo.nativePlaceRegionCode})).name),this.viewImgSrc=this.proprietorDetialInfo.proprietor.personInfo.photoId?this.$imgDownUrl()+"".concat(this.proprietorDetial.proprietor.personInfo.photoId):null,e.next=15;break;case 13:e.prev=13,e.t0=e["catch"](0);case 15:case"end":return e.stop()}}),e,this,[[0,13]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateProprietorInfo",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.subFlag){e.next=21;break}if(this.subFlag=!1,this.proprietorDetialEdit.name=this.proprietorDetialEdit.personInfo.name,t={name:"业主名称","personInfo.tel":"联系方式","proprietorAndRoom.time":"入伙时间"},!this.$utils.isntNull(this.proprietorDetialEdit,t)){e.next=21;break}if(this.$utils.phoneLimit(this.proprietorDetialEdit.personInfo.tel)){e.next=9;break}this.$message.warning("请输入正确的号码"),e.next=21;break;case 9:return e.prev=9,e.next=12,M(this.proprietorDetialEdit);case 12:this.$message.success("修改成功"),this.editInfoVisible=!1,this.getProprietorInfoDetial(this.personId),e.next=21;break;case 17:e.prev=17,e.t0=e["catch"](9),this.$message.error("修改失败"),this.editInfoVisible=!1;case 21:this.subFlag=!0;case 22:case"end":return e.stop()}}),e,this,[[9,17]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getFamilyInfoById",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,A(t);case 2:i=e.sent,a=i.data,this.familyMemberInfo=a;case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addMember",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.subFlag){e.next=26;break}if(this.subFlag=!1,this.addMemberInfo.proprietorId=this.personId,t={"personInfo.name":"姓名","personInfo.domesticRelationCode":"与户主关系","personInfo.tel":"联系方式"},""===this.addMemberInfo.personInfo.birthday&&(this.addMemberInfo.personInfo.birthday=null),!this.$utils.isntNull(this.addMemberInfo,t)){e.next=26;break}if(this.$utils.phoneLimit(this.addMemberInfo.personInfo.tel)){e.next=10;break}this.$message.warning("请输入正确的号码"),e.next=26;break;case 10:if(this.$utils.idCardLimit(this.addMemberInfo.personInfo.cardNumber)||""===this.addMemberInfo.personInfo.cardNumber){e.next=14;break}this.$message.warning("请输入正确的身份证号"),e.next=26;break;case 14:return e.prev=14,e.next=17,$(this.addMemberInfo);case 17:this.$message.success("新增成功"),this.addMemberVisible=!1,this.getFamilyMember(this.personId),this.closeMemberDialog(),e.next=26;break;case 23:e.prev=23,e.t0=e["catch"](14),this.$message.success("新增失败");case 26:this.subFlag=!0;case 27:case"end":return e.stop()}}),e,this,[[14,23]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"editFamilyInfo",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.subFlag){e.next=22;break}if(this.subFlag=!1,""===this.addMemberInfo.personInfo.birthday&&(this.addMemberInfo.personInfo.birthday=null),this.$utils.idCardLimit(this.familyMemberInfo.personInfo.cardNumber)){e.next=7;break}this.$message.warning("请输入正确的身份证号"),e.next=22;break;case 7:if(this.$utils.phoneLimit(this.familyMemberInfo.personInfo.tel)||""===this.familyMemberInfo.personInfo.tel){e.next=11;break}this.$message.warning("请输入正确的号码"),e.next=22;break;case 11:return e.prev=11,e.next=14,T(this.familyMemberInfo);case 14:this.editMemberVisible=!1,this.$message.success("修改成功"),this.getFamilyMember(this.personId),e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](11),this.$message.error("修改失败");case 22:this.subFlag=!0;case 23:case"end":return e.stop()}}),e,this,[[11,19]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"deleteFamilyInfo",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("此操作将永久删除该信息, 是否继续?","操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 2:if(i=e.sent,"confirm"===i){e.next=5;break}return e.abrupt("return",this.$message.info("已取消删除"));case 5:return a=[],a=t.split("/t"),e.prev=7,e.next=10,O(a);case 10:this.getFamilyMember(this.personId),this.$message.success("删除成功"),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](7),this.$message.error("删除失败");case 17:case"end":return e.stop()}}),e,this,[[7,14]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getParkingLIst",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L(t);case 2:i=e.sent,a=i.data,this.parkingList=a;case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getParkSpacelist",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,j(t,"");case 2:i=e.sent,a=i.data,this.parkSpaceList=a,console.log(t);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getParkSpaceById",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,V(t);case 2:i=e.sent,a=i.data,this.parkSpaceDeitailList=a,this.time="".concat(this.parkSpaceDeitailList.rentedTimeStart,"  ~  ").concat(this.parkSpaceDeitailList.rentedTimeEnd);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addParkSapceInfo",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.subFlag){e.next=22;break}if(this.subFlag=!1,this.addCarportInfo.roomId=this.proprietorDetialInfo.proprietor.proprietorAndRoom.roomId,this.addCarportInfo.statusCode=this.parkSpaceDeitailList.statusCode,t={spaceId:"车位编号",carNum1:"车牌号1",plateColorCode1:"车牌颜色1"},!this.$utils.isntNull(this.addCarportInfo,t)){e.next=22;break}if(""===this.addCarportInfo.carNum2||""!==this.addCarportInfo.plateColorCode2){e.next=10;break}this.$message.warning("请输入车牌颜色2"),e.next=22;break;case 10:return e.prev=10,e.next=13,E(this.addCarportInfo);case 13:this.$message.success("添加成功"),this.addCarportVisible=!1,this.getProprietorInfoDetial(this.personId),this.closeAddCarport(),e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](10),this.$message.error("添加失败");case 22:this.subFlag=!0;case 23:case"end":return e.stop()}}),e,this,[[10,19]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"deleteParkSpaceInfo",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("此操作将永久删除该信息, 是否继续?","操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 2:if(i=e.sent,"confirm"===i){e.next=5;break}return e.abrupt("return",this.$message.info("已取消删除"));case 5:return a=[],a=t.split("/t"),e.prev=7,e.next=10,F(this.personId,a);case 10:this.getProprietorInfoDetial(this.personId),this.$message.success("删除成功"),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](7),this.$message.error("删除失败");case 17:case"end":return e.stop()}}),e,this,[[7,14]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getCarInfoById",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,V(t);case 2:i=e.sent,a=i.data,this.editCarportInfo=a,console.log(a),1===a.cars.length?this.cars1=this.editCarportInfo.cars[0]:(this.cars1=this.editCarportInfo.cars[0],this.cars2=this.editCarportInfo.cars[1]),this.time2="".concat(this.editCarportInfo.rentedTimeStart,"  ~  ").concat(this.editCarportInfo.rentedTimeEnd);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateParkSpaceInfo",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.subFlag)if(this.subFlag=!1,t={carNum1:this.cars1.carNum,carNum2:this.cars2.carNum,plateColorCode1:this.cars1.plateColorCode,plateColorCode2:this.cars2.plateColorCode,roomId:this.editCarportInfo.roomId,spaceId:this.editCarportInfo.spaceId,statusCode:this.editCarportInfo.statusCode},""!==t.carNum1&&""===t.plateColorCode1||""!==t.carNum2&&""===t.plateColorCode2)this.$message.warning("请输入车牌颜色");else try{this.$message.success("修改成功"),this.editCarportVisible=!1,this.getProprietorInfoDetial(this.personId)}catch(i){this.$message.error("修改失败")}this.subFlag=!0;case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getRegionTree",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:t=e.sent,i=t.data,this.native=i;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getNation",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x("民族");case 2:t=e.sent,i=t.data,this.nation=i;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getSex",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x("性别");case 2:t=e.sent,i=t.data,this.sex=i;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getRelation",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x("家庭成员与业主关系");case 2:t=e.sent,i=t.data,this.relation=i;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getColor",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x("车牌颜色");case 2:t=e.sent,i=t.data,this.colorList=i,console.log(i);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"imgportadd",get:function(){return this.proprietorDetialEdit.personInfo.photoId?this.$imgDownUrl()+"".concat(this.proprietorDetialEdit.personInfo.photoId):null}}]),i}(u["c"]);Object(p["a"])([Object(u["b"])({default:!1})],U.prototype,"personId",void 0),Object(p["a"])([Object(u["b"])({default:!1})],U.prototype,"rdId",void 0),Object(p["a"])([Object(u["b"])({default:!1})],U.prototype,"roomName",void 0),Object(p["a"])([Object(u["b"])({default:!1})],U.prototype,"tableFlag",void 0),Object(p["a"])([Object(u["d"])("tableFlag",{immediate:!0,deep:!0})],U.prototype,"gettableFlag",null),U=Object(p["a"])([Object(u["a"])({components:{Icon:m["Icon"],Tree:h["Tree"],Page:m["Page"],Spin:m["Spin"],DatePicker:m["DatePicker"],Checkbox:m["Checkbox"],tabNav:f["a"],mixSelect:C["a"],Input:v["a"],RadioGroup:m["RadioGroup"],Radio:m["Radio"],Select:m["Select"],Option:m["Option"]}})],U);var W=U,J=W,Z=(i("cad4"),i("3912"),i("2877")),q=Object(Z["a"])(J,g,b,!1,null,"e81a12c2",null),K=q.exports,Q=i("0c123");function X(e){var t=Y();return function(){var i,a=Object(d["a"])(e);if(t){var o=Object(d["a"])(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return Object(c["a"])(this,i)}}function Y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var ee=function(e){Object(l["a"])(i,e);var t=X(i);function i(){var e;return Object(n["a"])(this,i),e=t.apply(this,arguments),e.rdId="",e.native=[],e.proprietorDetial={},e.roomId="",e.proprietorInfo=[],e.roomName="",e.buildingIdSelect="",e.buildingName="",e.startTime=null,e.endTime=null,e.keyWords=null,e.nprCode=null,e.rdInfo=[],e.formHeight=600,e.active=0,e.communtityId="",e.loading=!1,e.proprietorAndRoomOccupation={occupationTime:"",waterMeterReading:"",electricMeterReading:"",gasMeterReading:"",chargingDate:"",ourOperators:"",customerAttn:"",description:""},e.addProprietor={name:"",personInfo:{name:"",tel:"",cardNumber:"",birthday:"",sexCode:"",nationCode:"",nativePlaceRegionCode:"",remark:""},proprietorAndRoom:{proprietorAndRoomOccupation:{},roomId:"",pocCode:"",agreementNumber:"",contractCode:"",time:""}},e.pages={pageNum:1,pageSize:10,totalElements:0},e.personId="",e.buildingList=[],e.nation=[],e.sex=[],e.proprietorInfoTable=[],e.roomIdList=[],e.buildingTree=[{}],e.historyInfo=[],e.registVisible=!1,e.householdChangeVisible=!1,e.roomIdHoldChange="",e.loaderOption={lock:!0,body:!0,text:"上传中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.8)"},e.holdChangeInfo={name:"",personInfo:{name:"",tel:"",cardNumber:"",birthday:"",sexCode:"",nationCode:"",nativePlaceRegionCode:"",remark:"",photoId:""},proprietorAndRoom:{proprietorAndRoomOccupation:{chargingDate:""},time:"",roomId:"",proprietorId:""}},e.countGang=[],e.numberGang=0,e.imageUrl="",e.subFlag=!0,e.historyVisible=!1,e.tableFlag=!1,e.code=null,e}return Object(s["a"])(i,[{key:"renderContent",value:function(e,t){var i=this,a=(t.root,t.node,t.data);return e("div",{attrs:{title:a.title},style:{display:"inline-flex",alignItems:"center",height:"36px",overflow:"hidden",width:"calc(100% - 20px)"},class:{treeActive:this.roomId===a.id,treeActive2:this.communtityId===a.id},on:{click:function(e){2===a.level?(i.roomId=a.id,i.rdId=a.parentId,i.buildingName=a.title,i.communtityId="",setTimeout((function(){i.setPagesize()}),200),i.resentInfo(),i.getGangInfoInBuilding(i.roomId)):(!1===a.expand&&(a.expand=!a.expand),i.rdInfo=a,i.communtityId=a.id,i.roomId="",i.rdId=i.communtityId,setTimeout((function(){i.setPagesize()}),200),i.resentInfo(),i.getBuildingList())}}},[e("i",{class:{iconfont:!0,iconxiaoqu:1===a.level,iconlouyu:2===a.level},style:{lineHeight:"1",marginRight:"8px",marginLeft:"8px",cursor:"pointer"}}),e("i",{style:{fontStyle:"normal",fontSize:1===a.level?"15px":"14px",fontWeight:1===a.level?"600":"normal",lineHeight:"16px",cursor:"pointer",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}},a.title)])}},{key:"created",value:function(){var e=this;this.$nextTick((function(){e.getTree(),e.getNation(),e.getSex(),e.getRegionTree()}))}},{key:"setPagesize",value:function(){var e=this.$refs,t=e.rightMain.clientHeight,i=e.searchline.clientHeight,a=e.middleline.clientHeight+26;this.formHeight=t-i-a-53,this.pages.pageSize=Math.floor((this.formHeight-49)/48)}},{key:"mounted",value:function(){}},{key:"goToHouse",value:function(){this.$router.push("houseProperty")}},{key:"handleTime",value:function(e){this.startTime=e[0],this.endTime=e[1]}},{key:"handleSelectChange",value:function(e){""===e?this.roomIdList=[]:this.getTreeById(this.communtityId,e),this.addProprietor.proprietorAndRoom.roomId=""}},{key:"handleSelectRoom",value:function(e){""!==this.communtityId&&""===this.buildingIdSelect&&this.$message.warning("请选择楼栋")}},{key:"resentInfo",value:function(){var e=this.$refs;this.nprCode=null,this.startTime=null,this.endTime=null,this.keyWords=null,e.dateForm.handleClear(),this.getProprietorInfo()}},{key:"handleTimeDialog",value:function(e){this.addProprietor.proprietorAndRoom.time=e}},{key:"handleStartTime",value:function(e){this.proprietorAndRoomOccupation.chargingDate=e}},{key:"handleBirthdayDialog",value:function(e){this.addProprietor.personInfo.birthday=e}},{key:"handBrithday",value:function(e){this.holdChangeInfo.personInfo.birthday=e}},{key:"handTime",value:function(e){this.holdChangeInfo.proprietorAndRoom.time=e}},{key:"upAddImg",value:function(e){var t=this,i=new FormData,a="bmp,jpg,jpeg,png",o=a.indexOf(e.target.files[0].type.replace("image/",""))>-1;if(o){i.append("file",e.target.files[0]),i.append("relativePath","");var n=this.$loading(this.loaderOption);setTimeout(Object(r["a"])(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I["e"](i,t.$upBaseUrl());case 3:a=e.sent,o=a.data.id,t.holdChangeInfo.personInfo.photoId=o,t.$message.success("上传成功！"),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),t.$message.error("上传失败!");case 12:n.close()(document.getElementById("addupload")).value="";case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),200)}else this.$message({showClose:!0,message:"图片格式错误！支持格式：bmp,jpg,jpeg,png。",type:"error"})}},{key:"getPage",value:function(e){this.pages.pageNum=e||1,this.getProprietorInfo()}},{key:"openRegistDialog",value:function(){var e=new Date;this.addProprietor.proprietorAndRoom.time=this.$utils.dateFormat(e,"time"),this.registVisible=!0,console.log("11"),""===this.communtityId?this.getTreeById(this.rdId,this.roomId):this.roomIdList=[]}},{key:"closeRegistDialog",value:function(){this.registVisible=!1,this.active=0;var e=this.$refs;e.startTimeRef.handleClear(),this.proprietorAndRoomOccupation={occupationTime:"",waterMeterReading:"",electricMeterReading:"",gasMeterReading:"",chargingDate:"",ourOperators:"",customerAttn:"",description:""},this.addProprietor={name:"",personInfo:{name:"",tel:"",cardNumber:"",birthday:"",sexCode:"",nationCode:"",nativePlaceRegionCode:""},proprietorAndRoom:{roomId:"",pocCode:"",contractCode:"",agreementNumber:"",time:""}},this.buildingIdSelect=""}},{key:"closeHouseholdChange",value:function(){this.householdChangeVisible=!1,this.imageUrl="",this.holdChangeInfo={name:"",personInfo:{name:"",tel:"",cardNumber:"",birthday:"",sexCode:"",nationCode:"",nativePlaceRegionCode:"",remark:"",photoId:""},proprietorAndRoom:{proprietorAndRoomOccupation:{chargingDate:""},id:"",time:"",roomId:"",proprietorId:""}}}},{key:"next",value:function(){var e={"personInfo.name":"名称","personInfo.tel":"联系方式","proprietorAndRoom.roomId":"房间代码"};this.$utils.isntNull(this.addProprietor,e)&&(this.$utils.phoneLimit(this.addProprietor.personInfo.tel)?this.$utils.idCardLimit(this.addProprietor.personInfo.cardNumber)||""===this.addProprietor.personInfo.cardNumber?this.active++:this.$message.warning("请输入正确的身份证号"):this.$message.warning("请输入正确的联系方式"))}},{key:"last",value:function(){this.active--}},{key:"householdChange",value:function(e){var t=new Date;this.roomIdHoldChange=e.roomName,this.holdChangeInfo.proprietorAndRoom.time=this.$utils.dateFormat(t,"time"),this.getProprietorInfoDetial(e.id),this.householdChangeVisible=!0}},{key:"handleAvatarSuccess",value:function(e,t){this.imageUrl=URL.createObjectURL(t.raw)}},{key:"detailHouse",value:function(e){this.personId=e.id,this.roomName=e.roomName,this.tableFlag=!0}},{key:"closeTable",value:function(){this.tableFlag=!1,this.getProprietorInfo()}},{key:"getTree",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=Q["c"],this.buildingTree=t,t.length>0?""===this.communtityId&&""===this.roomId?(this.communtityId=t[0].id,t[0].expand=!0,this.rdInfo.title=t[0].title,this.rdId=this.communtityId,this.getBuildingList(),this.setPagesize(),this.getProprietorInfo()):""!==this.roomId?this.buildingTree.find((function(e){return e.id===i.rdId})).expand=!0:this.buildingTree.find((function(e){return e.id===i.communtityId})).expand=!0:this.buildingTree=[];case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getTreeById",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,i){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,y(t,i);case 2:a=e.sent,o=a.data,this.roomIdList=o;case 5:case"end":return e.stop()}}),e,this)})));function t(t,i){return e.apply(this,arguments)}return t}()},{key:"getProprietorInfo",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(i in this.loading=!0,""===this.startTime&&""===this.endTime&&(this.startTime=null,this.endTime=null),""===this.roomId&&(this.roomId=null),""===this.nprCode&&(this.nprCode=null),t=Q["b"],this.proprietorInfo=t.content,this.proprietorInfoTable=JSON.parse(JSON.stringify(this.proprietorInfo)),this.pages.totalElements=t.totalElements,this.proprietorInfoTable)this.proprietorInfoTable[i].birthday=this.$utils.dateFormat(Number(this.proprietorInfoTable[i].birthday),"date");this.loading=!1;case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"addProprietorInfo",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.subFlag){e.next=27;break}if(this.subFlag=!1,this.addProprietor.name=this.addProprietor.personInfo.name,this.proprietorAndRoomOccupation.description=this.addProprietor.personInfo.remark,this.proprietorAndRoomOccupation.occupationTime=this.addProprietor.proprietorAndRoom.time,this.proprietorAndRoomOccupation.gasMeterReading=Number(this.proprietorAndRoomOccupation.gasMeterReading),this.proprietorAndRoomOccupation.waterMeterReading=Number(this.proprietorAndRoomOccupation.waterMeterReading),this.proprietorAndRoomOccupation.electricMeterReading=Number(this.proprietorAndRoomOccupation.electricMeterReading),this.addProprietor.proprietorAndRoom.proprietorAndRoomOccupation=this.proprietorAndRoomOccupation,""===this.addProprietor.proprietorAndRoom.proprietorAndRoomOccupation.chargingDate&&(this.addProprietor.proprietorAndRoom.proprietorAndRoomOccupation.chargingDate=null),""===this.addProprietor.personInfo.birthday&&(this.addProprietor.personInfo.birthday=null),""!==this.addProprietor.proprietorAndRoom.time){e.next=15;break}this.$message.warning("请输入入伙时间"),e.next=27;break;case 15:return e.prev=15,e.next=18,R(this.addProprietor);case 18:this.$message.success("登记成功"),this.registVisible=!1,this.resentInfo(),this.closeRegistDialog(),e.next=27;break;case 24:e.prev=24,e.t0=e["catch"](15),this.$message.error("登记失败,请重新登记");case 27:this.subFlag=!0;case 28:case"end":return e.stop()}}),e,this,[[15,24]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateHold",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.subFlag){e.next=41;break}if(this.subFlag=!1,t={"personInfo.name":"新业主名","personInfo.tel":"联系方式"},!this.$utils.isntNull(this.holdChangeInfo,t)){e.next=41;break}if(this.$utils.phoneLimit(this.holdChangeInfo.personInfo.tel)){e.next=8;break}this.$message.warning("请输入正确的联系方式"),e.next=41;break;case 8:if(this.$utils.idCardLimit(this.holdChangeInfo.personInfo.cardNumber)||""===this.holdChangeInfo.personInfo.cardNumber){e.next=12;break}this.$message.warning("请输入正确的身份证号"),e.next=41;break;case 12:return e.next=14,this.$confirm("确定要将房间".concat(this.roomIdHoldChange,"的业主改为").concat(this.holdChangeInfo.personInfo.name,"？"),"操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 14:if(i=e.sent,"confirm"===i){e.next=18;break}return this.subFlag=!0,e.abrupt("return",this.$message.info("已取消更改"));case 18:return this.holdChangeInfo.proprietorAndRoom.proprietorId=this.proprietorDetial.proprietor.id,this.holdChangeInfo.name=this.holdChangeInfo.personInfo.name,this.holdChangeInfo.proprietorAndRoom.roomId=this.proprietorDetial.proprietor.proprietorAndRoom.roomId,this.holdChangeInfo.proprietorAndRoom.id=this.proprietorDetial.proprietor.proprietorAndRoom.id,this.holdChangeInfo.proprietorAndRoom.proprietorAndRoomOccupation.chargingDate=null,""===this.holdChangeInfo.personInfo.birthday&&(this.holdChangeInfo.personInfo.birthday=null),e.prev=24,e.next=27,_(this.holdChangeInfo);case 27:this.$message.success("操作成功"),this.closeHouseholdChange(),a=this.$refs,this.nprCode=null,this.startTime=null,this.endTime=null,this.keyWords=null,a.dateForm.handleClear(),this.getProprietorInfo(),e.next=41;break;case 38:e.prev=38,e.t0=e["catch"](24),this.$message.success("操作失败");case 41:this.subFlag=!0;case 42:case"end":return e.stop()}}),e,this,[[24,38]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getBuildingList",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,z(this.communtityId);case 2:t=e.sent,i=t.data,this.buildingList=i;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"deleteInfo",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var i,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("此操作将永久删除该信息, 是否继续?","操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 2:if(i=e.sent,"confirm"===i){e.next=5;break}return e.abrupt("return",this.$message.info("已取消删除"));case 5:return a=[],a=t.split("/t"),e.prev=7,e.next=10,S(a);case 10:this.$message.success("删除成功"),o=this.$refs,this.nprCode=null,this.startTime=null,this.endTime=null,this.keyWords=null,o.dateForm.handleClear(),1===this.proprietorInfo.length&&this.pages.pageNum>1&&this.pages.pageNum--,this.getProprietorInfo(),e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](7),this.$message.error("删除失败");case 24:case"end":return e.stop()}}),e,this,[[7,21]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"exportProprietorInfo",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w();case 3:this.$message.success("导出成功"),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.$message.error("导出失败");case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getHistory",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.historyVisible=!0,e.next=3,N(this.proprietorDetial.proprietor.proprietorAndRoom.roomId);case 3:for(a in t=e.sent,i=t.data,this.historyInfo=i,this.historyInfo)this.historyInfo[a].birthday=this.$utils.dateFormat(Number(this.historyInfo[a].birthday),"date");case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getProprietorInfoDetial",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D(t);case 3:i=e.sent,a=i.data,this.proprietorDetial=a,e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](0);case 10:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getRegionTree",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:t=e.sent,i=t.data,this.native=i;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getNation",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x("民族");case 2:t=e.sent,i=t.data,this.nation=i;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getSex",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x("性别");case 2:t=e.sent,i=t.data,this.sex=i;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getGangInfoInBuilding",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B(t);case 2:i=e.sent,a=i.data,this.countGang=a,this.countGang.length>0?this.numberGang=this.countGang[0].count:this.numberGang=0;case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"imgportadd",get:function(){return this.holdChangeInfo.personInfo.photoId?this.$imgDownUrl()+"".concat(this.holdChangeInfo.personInfo.photoId):null}}]),i}(u["c"]);ee=Object(p["a"])([Object(u["a"])({components:{Tree:h["Tree"],Page:m["Page"],Spin:m["Spin"],DatePicker:m["DatePicker"],RadioGroup:m["RadioGroup"],Radio:m["Radio"],CheckboxGroup:m["CheckboxGroup"],Checkbox:m["Checkbox"],tabNav:f["a"],Input:v["a"],mixSelect:C["a"],householdDetail:K}})],ee);var te=ee,ie=te,ae=(i("4093"),i("d92f"),Object(Z["a"])(ie,a,o,!1,null,"634bdaae",null));t["default"]=ae.exports},"0965":function(e,t,i){},3912:function(e,t,i){"use strict";var a=i("5b0d"),o=i.n(a);o.a},4093:function(e,t,i){"use strict";var a=i("0965"),o=i.n(a);o.a},"5b0d":function(e,t,i){},cad4:function(e,t,i){"use strict";var a=i("fb77"),o=i.n(a);o.a},d92f:function(e,t,i){"use strict";var a=i("01f3"),o=i.n(a);o.a},fb77:function(e,t,i){}}]);
//# sourceMappingURL=chunk-8834d28c.9399e390.js.map